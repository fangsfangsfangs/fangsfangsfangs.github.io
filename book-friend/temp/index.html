<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>bookmouse :)</title>
    <link rel="icon" href="https://fangsfangsfangs.github.io/book-friend/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="styles.css" />
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  </head>
  <body>
    <!-- Fixed toolbar -->
    <div id="fixedToolbar" class="icon-bar fixed-toolbar">
      <button id="logoBtn" class="toolbar-logo-btn" title="Mousekeeping">
        <img src="https://fangsfangsfangs.github.io/book-friend/bookmouse1-logo.png" alt="Logo" class="toolbar-logo" />
      </button>
      <button id="homeBtn" title="welcome home"><i data-lucide="home"></i></button>
      <button id="showToReadBtn" title="to-read"><i data-lucide="notebook-pen"></i></button>
      <button id="favoritesBtn" title="faves"><i data-lucide="book-heart"></i></button>
      <button id="showReadBtn" title="quick list"><i data-lucide="bookmark-plus"></i></button>
    </div>

    <!-- Grid view -->
    <div id="gridView" class="grid-area"></div>

<!-- Book card overlay -->
<div id="BookCardpopup" class="overlay-background hidden">
  <div id="bookCard" class="popup-content book-card">
    <!-- Dynamic content will be injected here by JavaScript -->
  </div>
</div>

    <!-- Add new book button -->
    <button id="addBookBtn" title="Add New Book"><i data-lucide="plus"></i></button>
    <script>
      lucide.createIcons();
    </script>
    <script type="module" src="script.js"></script>

    <!-- Height set variable -->
   <script>
      function setVh() {
        let vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', `${vh}px`);
      }
      setVh();
      window.addEventListener('resize', setVh);
    </script>

    <!-- Add new book popup -->
    <div id="addBookPopup" class="overlay-background hidden">
      <div class="popup-content book-card">
        <h3>Add a New Book</h3>
        <input placeholder="Title" id="addTitle" />
        <input placeholder="Author" id="addAuthor" />
        <input placeholder="ISBN" id="addIsbn" />
        <input placeholder="Quote" id="addQuote" />
        <input placeholder="Review" id="addReview" />
        <input type="number" placeholder="Rating" id="addRating" />
        <input type="number" placeholder="Despair Level" id="addDespair" />
        <input placeholder="Tags (comma-separated)" id="addTags" />
        <div class="popup-buttons">
          <div class="popup-footer-container">
            <div id="addFavoriteHeart" class="favorite-heart" title="Toggle Favorite">&#10084;</div>
            <!-- Optional visible version for user editing -->
            <label for="dateReadInput">Read</label>
            <input type="month" id="dateReadInput" name="dateRead" />
            <div class="popup-action-buttons">
              <button id="addBookConfirm" class="add-btn">Add</button>
            </div>
            <button class="close-btn" id="closePopupBtn">&times;</button>
          </div>
        </div>
      </div>
    </div>
    <!-- Glitter button -->
    <div id="glitterOverlay" class="glitter-overlay"></div>
  </body>
</html>
